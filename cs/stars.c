#include "stars.h"
#include <stdio.h>	/* NULL */
#include <string.h>	/* strcmp() */

const Star star_list[] = {
	{ "Achernar",   241, 313, 'C', NULL           , NULL            },
	{ "Adhara",     457,  37, 'N', &star_list[  0], &star_list[  2] },
	{ "Alcor",      385,   1, 'C', NULL           , NULL            },
	{ "Aldebaran",  553, 145, 'A', &star_list[  1], &star_list[  5] },
	{ "Algol",       85,  97, 'C', NULL           , NULL            },
	{ "Alioth",      37, 109, 'C', &star_list[  4], &star_list[  6] },
	{ "Alnitak",    157, 289, 'C', NULL           , NULL            },
	{ "Alphard",    541,  49, 'C', &star_list[  3], &star_list[ 11] },
	{ "Altair",     409,  97, 'A', NULL           , NULL            },
	{ "Antares",    469, 253, 'C', &star_list[  8], &star_list[ 10] },
	{ "Arcturus",   661, 121, 'C', NULL           , NULL            },
	{ "Aurigae",    421, 277, 'C', &star_list[  9], &star_list[ 13] },
	{ "Barnard",    169, 229, 'C', NULL           , NULL            },
	{ "Betelgeuse", 229, 337, 'A', &star_list[ 12], &star_list[ 14] },
	{ "Bootis",     241, 121, 'N', NULL           , NULL            },
	{ "Canis",      709,  73, 'C', &star_list[  7], &star_list[ 23] },
	{ "Canopus",    241, 145, 'C', NULL           , NULL            },
	{ "Capella",    349, 109, 'A', &star_list[ 16], &star_list[ 18] },
	{ "Caph",       385, 157, 'A', NULL           , NULL            },
	{ "Castor",     169, 253, 'C', &star_list[ 17], &star_list[ 21] },
	{ "Centauri",   685, 289, 'A', NULL           , NULL            },
	{ "Cephei",     397, 241, 'C', &star_list[ 20], &star_list[ 22] },
	{ "Ceti",       421, 169, 'C', NULL           , NULL            },
	{ "Crucis",     241, 301, 'C', &star_list[ 19], &star_list[ 27] },
	{ "Cygni",       97,  49, 'C', NULL           , NULL            },
	{ "Deneb",       49,  61, 'N', &star_list[ 24], &star_list[ 26] },
	{ "Diphda",     565, 169, 'A', NULL           , NULL            },
	{ "Draconis",   229, 109, 'C', &star_list[ 25], &star_list[ 29] },
	{ "Eridani",    673, 349, 'N', NULL           , NULL            },
	{ "Fomalhaut",   49, 133, 'N', &star_list[ 28], &star_list[ 30] },
	{ "Hamal",      337, 217, 'C', NULL           , NULL            },
	{ "Hydrae",     193,  37, 'C', &star_list[ 15], &star_list[ 47] },
	{ "Indi",       673, 229, 'N', NULL           , NULL            },
	{ "Kapetyn",    133,  25, 'C', &star_list[ 32], &star_list[ 34] },
	{ "Kochab",     241,  73, 'C', NULL           , NULL            },
	{ "Kruger",     109, 193, 'C', &star_list[ 33], &star_list[ 37] },
	{ "Lalande",    121, 241, 'C', NULL           , NULL            },
	{ "Lupi",        73,  37, 'C', &star_list[ 36], &star_list[ 38] },
	{ "Lyrae",      589, 265, 'C', NULL           , NULL            },
	{ "Markab",     253,  85, 'A', &star_list[ 35], &star_list[ 43] },
	{ "Merak",      613, 241, 'C', NULL           , NULL            },
	{ "Mira",       169, 349, 'C', &star_list[ 40], &star_list[ 42] },
	{ "Mirfak",      97,  73, 'C', NULL           , NULL            },
	{ "Mizar",      169,   1, 'C', &star_list[ 41], &star_list[ 45] },
	{ "Nowhere",      1,   1, 'C', NULL           , NULL            },
	{ "Olympus",    421, 181, 'D', &star_list[ 44], &star_list[ 46] },
	{ "Ophiuchi",   457, 289, 'C', NULL           , NULL            },
	{ "Pherda",     241, 181, 'C', &star_list[ 39], &star_list[ 55] },
	{ "Polaris",      1, 229, 'N', NULL           , NULL            },
	{ "Pollux",     325, 349, 'N', &star_list[ 48], &star_list[ 50] },
	{ "Procyon",    421, 301, 'A', NULL           , NULL            },
	{ "Rastaban",   469, 229, 'C', &star_list[ 49], &star_list[ 53] },
	{ "Regulus",    433,  61, 'A', NULL           , NULL            },
	{ "Rigel",      121, 145, 'A', &star_list[ 52], &star_list[ 54] },
	{ "Ross",       685, 337, 'C', NULL           , NULL            },
	{ "S#0",        241, 325, 'C', &star_list[ 51], &star_list[ 59] },
	{ "S#1",        361, 193, 'A', NULL           , NULL            },
	{ "S#10",       373, 145, 'C', &star_list[ 56], &star_list[ 58] },
	{ "S#11",       181,  61, 'C', NULL           , NULL            },
	{ "S#12",       565,  73, 'C', &star_list[ 57], &star_list[ 61] },
	{ "S#13",       373,  73, 'C', NULL           , NULL            },
	{ "S#14",       241, 169, 'C', &star_list[ 60], &star_list[ 62] },
	{ "S#15",        85, 301, 'C', NULL           , &star_list[ 63] },
	{ "S#16",       457, 265, 'A', NULL           , NULL            },
	{ "S#17",       589, 109, 'A', &star_list[ 31], &star_list[ 97] },
	{ "S#18",        73, 313, 'C', NULL           , NULL            },
	{ "S#19",       649,  61, 'C', &star_list[ 65], &star_list[ 67] },
	{ "S#2",        193, 205, 'A', NULL           , NULL            },
	{ "S#20",       661,  37, 'C', &star_list[ 66], &star_list[ 70] },
	{ "S#21",       493,  85, 'C', NULL           , NULL            },
	{ "S#22",       589,  13, 'C', &star_list[ 69], &star_list[ 71] },
	{ "S#23",        13, 265, 'A', NULL           , NULL            },
	{ "S#24",       553, 337, 'A', &star_list[ 68], &star_list[ 76] },
	{ "S#25",       313,  13, 'C', NULL           , NULL            },
	{ "S#26",       433, 181, 'C', &star_list[ 73], &star_list[ 75] },
	{ "S#27",       661, 181, 'C', NULL           , NULL            },
	{ "S#28",       697, 169, 'A', &star_list[ 74], &star_list[ 78] },
	{ "S#29",       553, 205, 'C', NULL           , NULL            },
	{ "S#3",         49,  13, 'A', &star_list[ 77], &star_list[ 79] },
	{ "S#30",        25,   1, 'C', NULL           , NULL            },
	{ "S#31",       601, 253, 'A', &star_list[ 72], &star_list[ 88] },
	{ "S#32",       373, 121, 'C', NULL           , NULL            },
	{ "S#33",       385,  25, 'C', &star_list[ 81], &star_list[ 83] },
	{ "S#34",       565, 325, 'N', NULL           , NULL            },
	{ "S#35",       589,  97, 'A', &star_list[ 82], &star_list[ 86] },
	{ "S#36",       565,  25, 'C', NULL           , NULL            },
	{ "S#37",       685, 217, 'C', &star_list[ 85], &star_list[ 87] },
	{ "S#38",        13, 169, 'C', NULL           , NULL            },
	{ "S#39",       349, 205, 'C', &star_list[ 84], &star_list[ 92] },
	{ "S#4",        373, 313, 'N', NULL           , NULL            },
	{ "S#40",       313, 133, 'C', &star_list[ 89], &star_list[ 91] },
	{ "S#41",       697,  25, 'C', NULL           , NULL            },
	{ "S#42",       385,  49, 'A', &star_list[ 90], &star_list[ 94] },
	{ "S#43",       289,  97, 'C', NULL           , NULL            },
	{ "S#44",       589, 193, 'C', &star_list[ 93], &star_list[ 95] },
	{ "S#45",        49, 217, 'C', NULL           , &star_list[ 96] },
	{ "S#46",       673, 157, 'C', NULL           , NULL            },
	{ "S#47",         1, 205, 'N', &star_list[ 80], &star_list[113] },
	{ "S#48",       421, 337, 'C', NULL           , NULL            },
	{ "S#49",         1, 121, 'C', &star_list[ 98], &star_list[100] },
	{ "S#5",        349, 253, 'C', NULL           , NULL            },
	{ "S#50",       109, 325, 'C', &star_list[ 99], &star_list[103] },
	{ "S#51",       529, 157, 'C', NULL           , NULL            },
	{ "S#52",       685,  49, 'C', &star_list[102], &star_list[104] },
	{ "S#53",       373, 325, 'C', NULL           , NULL            },
	{ "S#54",        13, 253, 'C', &star_list[101], &star_list[109] },
	{ "S#55",        97, 157, 'C', NULL           , NULL            },
	{ "S#56",       685, 205, 'C', &star_list[106], &star_list[108] },
	{ "S#57",       541, 313, 'C', NULL           , NULL            },
	{ "S#58",       181,  13, 'A', &star_list[107], &star_list[111] },
	{ "S#59",       589, 301, 'C', NULL           , NULL            },
	{ "S#6",        697, 229, 'C', &star_list[110], &star_list[112] },
	{ "S#60",        13,  25, 'A', NULL           , NULL            },
	{ "S#61",       265, 277, 'N', &star_list[105], &star_list[121] },
	{ "S#62",       313, 289, 'C', NULL           , NULL            },
	{ "S#63",       241, 157, 'A', &star_list[114], &star_list[116] },
	{ "S#7",        529, 121, 'C', NULL           , NULL            },
	{ "S#8",        313, 229, 'C', &star_list[115], &star_list[119] },
	{ "S#9",         61,  85, 'N', NULL           , NULL            },
	{ "Sadir",      637, 277, 'C', &star_list[118], &star_list[120] },
	{ "Schedar",    121, 277, 'C', NULL           , NULL            },
	{ "Scorpii",    205, 265, 'A', &star_list[117], &star_list[125] },
	{ "Sirius",     697, 145, 'A', NULL           , NULL            },
	{ "Spica",      181, 217, 'N', &star_list[122], &star_list[124] },
	{ "Tauri",      181, 133, 'A', NULL           , NULL            },
	{ "Thuban",      97, 181, 'A', &star_list[123], &star_list[127] },
	{ "Vega",        13, 337, 'N', NULL           , NULL            },
	{ "Wezen",      469, 217, 'A', &star_list[126], &star_list[128] },
	{ "Wolf",       493, 133, 'A', NULL           , &star_list[129] },
	{ "Zosca",      661,   1, 'A', NULL           , NULL            },
};

const int stars = sizeof(star_list) / sizeof(Star);

const Star *find_star(const char *key) {
	const Star *a = &star_list[64];	/* mid-point of array */
	do {
		int i = strcmp(a->key, key);
		if (i > 0) {
			a = a->left;
		} else if (i < 0) {
			a = a->right;
		} else {
			return a;
		}
	} while (a != NULL);
	return NULL;
}
